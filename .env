# ----------------------- Backend Config ------------------------------#

# Database Connection (PostgreSQL via Prisma)
DATABASE_URL=postgresql://postgres:testpass@hoppscotch-db:5432/hoppscotch

# ---------------------- Authentication Config ------------------------#

# JSON Web Token (JWT) Configuration
JWT_SECRET="secret1233" # ⚠️ Change this for production
TOKEN_SALT_COMPLEXITY=10 # Controls password hashing complexity
MAGIC_LINK_TOKEN_VALIDITY=3 # Validity period for magic link tokens in hours

# Token Expiry Times (in milliseconds)
REFRESH_TOKEN_VALIDITY="604800000" # 7 days
ACCESS_TOKEN_VALIDITY="86400000"   # 1 day

# Session Configuration
SESSION_SECRET='add some secret here' # ⚠️ Change this for security
ALLOW_SECURE_COOKIES=true # Set to false if using HTTP (not recommended)

# Sensitive Data Encryption Key (must be exactly 32 characters long)
DATA_ENCRYPTION_KEY="data encryption key with 32 char"

# ----------------------- Hoppscotch App Config -----------------------#

# Application URLs and Whitelisted Origins
REDIRECT_URL="http://localhost:3000"
WHITELISTED_ORIGINS="http://localhost:3170,http://localhost:3000,http://localhost:3100"

# Allowed Authentication Providers
VITE_ALLOWED_AUTH_PROVIDERS=GOOGLE,GITHUB,MICROSOFT,EMAIL

# ---------------------- Third-Party Auth Providers -------------------#

# Google Authentication
GOOGLE_CLIENT_ID="************************************************"
GOOGLE_CLIENT_SECRET="************************************************"
GOOGLE_CALLBACK_URL="http://localhost:3170/v1/auth/google/callback"
GOOGLE_SCOPE="email,profile"

# GitHub Authentication
GITHUB_CLIENT_ID="************************************************"
GITHUB_CLIENT_SECRET="************************************************"
GITHUB_CALLBACK_URL="http://localhost:3170/v1/auth/github/callback"
GITHUB_SCOPE="user:email"

# Microsoft Authentication
MICROSOFT_CLIENT_ID="************************************************"
MICROSOFT_CLIENT_SECRET="************************************************"
MICROSOFT_CALLBACK_URL="http://localhost:3170/v1/auth/microsoft/callback"
MICROSOFT_SCOPE="user.read"
MICROSOFT_TENANT="common"

# ---------------------- Mailer Configuration ------------------------#

MAILER_SMTP_ENABLE="true" # Enable/disable SMTP email sending
MAILER_USE_CUSTOM_CONFIGS="false" # Use predefined or custom SMTP settings
MAILER_ADDRESS_FROM='"From Name Here" <from@example.com>'

# SMTP Configuration (Used if MAILER_USE_CUSTOM_CONFIGS=false)
MAILER_SMTP_URL="smtps://user@domain.com:pass@smtp.domain.com"

# Custom SMTP Configuration (Used if MAILER_USE_CUSTOM_CONFIGS=true)
MAILER_SMTP_HOST="smtp.domain.com"
MAILER_SMTP_PORT="587"
MAILER_SMTP_SECURE="true"
MAILER_SMTP_USER="user@domain.com"
MAILER_SMTP_PASSWORD="pass"
MAILER_TLS_REJECT_UNAUTHORIZED="true"

# ---------------------- Rate Limit Configuration --------------------#

RATE_LIMIT_TTL=60 # Time window for rate limiting (in seconds)
RATE_LIMIT_MAX=100 # Maximum requests per IP within the TTL period

# ----------------------- Frontend Config ----------------------------#

# Base URLs
VITE_BASE_URL=http://localhost:3000
VITE_SHORTCODE_BASE_URL=http://localhost:3000
VITE_ADMIN_URL=http://localhost:3100

# Backend API and WebSocket URLs
VITE_BACKEND_GQL_URL=http://localhost:3170/graphql
VITE_BACKEND_WS_URL=ws://localhost:3170/graphql
VITE_BACKEND_API_URL=http://localhost:3170/v1

# Terms of Service and Privacy Policy Links
VITE_APP_TOS_LINK=https://docs.hoppscotch.io/support/terms
VITE_APP_PRIVACY_POLICY_LINK=https://docs.hoppscotch.io/support/privacy

# Enable subpath-based access (Set to `true` for subpath-based deployments)
ENABLE_SUBPATH_BASED_ACCESS=false
